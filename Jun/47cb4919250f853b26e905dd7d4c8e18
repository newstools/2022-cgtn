The U.S. Senate advanced a bill Tuesday night that would address the nation's gun violence problem, putting the legislation on course to be passed into law later this month. The 64-to-34 vote came just hours after Republicans and Democrats released the text of the legislation, and after days of feverish negotiations to hammer out its details. The legislation includes provisions that would help states keep guns out of the hands of those deemed to be a danger to themselves or others and close the so-called boyfriend loophole by blocking gun sales to those convicted of abusing unmarried intimate partners. After mass shootings at a New York grocery store and a Texas elementary school that authorities said were committed by teenagers, the legislation would allow states to provide juvenile records to the national background check system for gun purchases. Read more: U.S. lawmakers agree landmark bipartisan bill on gun safety