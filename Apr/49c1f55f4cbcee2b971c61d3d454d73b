The U.S. dollar touched a two-decade high against rivals on Thursday, as Wall Street rallied and European shares rose from six-week lows with strong earnings reports offsetting gloomy U.S. economic data. The yen dropped to a 20-year low after the Bank of Japan vowed to buy unlimited amounts of 10-year bonds daily to defend its yield target. The bank's strengthening of its commitment to ultra-low interest rates sent the U.S. dollar to a fresh high, weakened emerging market currencies and pushed borrowing costs for U.S. dollars in currency derivatives markets sharply higher. Oil prices settled higher on the increased likelihood that Germany will join other European Union member states in an embargo on Russian oil, which could further tighten supplies in the already-stressed global crude market. The S&P 500 climbed 2.47 percent to end the session at 4,287.50 points. The Nasdaq gained 3.06 percent to 12,871.53 points, while Dow Jones Industrial Average rose 1.85 percent to 33,916.39 points. Technology stocks gained on strong earnings. Shares of Facebook parent Meta Platforms surged after the company reported a larger-than-expected profit on Wednesday. Apple, the world's most valuable company, and e-commerce giant Amazon.com both rallied ahead of their quarterly reports, though Amazon tumbled about 10 percent in extended trade after the company forecast current-quarter sales below estimates. The tech sector gains supported Wall Street even after the U.S. Commerce Department said in its advance GDP estimate that gross domestic product fell at a 1.4-percent annualized rate last quarter. "Huge miss on GDP this morning, but just looking at headline is misleading," said Cliff Hodge, chief investment officer for Cornerstone Wealth. "Trade, inventories and government spending all dragged, but the consumer held up and business investment was strong. The shift to services spending bodes well for inflation moving forward, and core PCE came in a bit light. The big headline miss also gives the Fed some breathing room." The MSCI world equity index rose 12.07 points, or 1.85 percent, to 665.97. European stocks gained on solid corporate earnings. The pan-European STOXX 600 closed up 0.6 percent but was below session highs, hit by weak advance first-quarter U.S. economic growth data as well as higher-than-expected German inflation spurring bets on a quicker pace of monetary tightening by the European Central Bank. Indexes in Frankfurt and Paris both rose. London-listed bank Standard Chartered jumped 14 percent after upbeat quarterly earnings. Its Hong Kong-listed shares had earlier gained more than 10 percent. "Markets were quite fearful at the start of the earnings season but Meta's earnings last night seems to have calmed sentiment," said Kaspar Hense, senior portfolio manager at Bluebay Asset Management in London. "It looks like we have turned a corner for the outlook for U.S. stocks and that should provide some relief to investors watching the dollar's rise." MSCI's broadest index of Asia-Pacific shares outside Japan rose 1.03 percent. The BoJ's move was in stark contrast with investors' conviction that U.S. interest rates are about to start going up quickly and it jolted the dollar higher. "The message from the monetary policy statement this morning is that the Bank of Japan refuses to budge, sticking with its unlimited bond buying plan to defend the 0.25-percent 10-year yield target," said Arne Petimezas, senior analyst at AFS Group. The euro hit a five-year low against the dollar of $1.04695 before paring losses. It was still on track for its worst monthly performance since January 2015. The euro's drop to its lowest level since 2017 is rekindling the possibility it will reach parity against the dollar for the first time in two decades, as fears of a euro zone recession encourage investors to pile on the bearish bets. The weaker yen and euro pushed the dollar index to 103.930 , its highest level since December 2002. Japan's Nikkei rose 1.75 percent, its best day in two weeks, as investors cheered the weaker currency that helps Japanese exporters. Benchmark 10-year Treasury yields rose to near their highest levels of the year on Thursday after signs of strength in the U.S. job market outweighed an unexpected decline in economic growth in the first quarter. A separate report from the Labor Department on Thursday showed initial claims for state unemployment benefits fell 5,000 to a seasonally adjusted 180,000 for the week ended April 23, suggesting that the U.S. economy is putting the Omicron wave of the coronavirus behind it. Investors expect that U.S. rates are rising and that next week's Federal Reserve meeting will bring the first of several consecutive 50-basis-point hikes. Brent crude futures rose $2.27 to settle at $107.59 a barrel while U.S. West Texas Intermediate crude rose $3.34, or 3.3 percent to $105.36. Germany hopes to find a way within days to replace Russian oil with supplies from other sources, Economy Minister Robert Habeck said on Tuesday, adding that Germany could then cope with an EU embargo on Russian oil imports. Germany is heavily reliant on Russian energy imports and had previously opposed a full ban. Spot gold prices were up 0.49 percent by 4:26 p.m. EDT (2026 GMT), rising from a ten-week low touched earlier in the session under pressure from the stronger U.S. dollar. U.S. gold futures settled up 0.1 percent at $1,891.30.